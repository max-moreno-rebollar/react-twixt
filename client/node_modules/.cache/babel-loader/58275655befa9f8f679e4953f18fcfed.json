{"ast":null,"code":"var _jsxFileName = \"/home/maxmoreno/Projects/twixt-remake/src/Board.js\";\nimport React, { useState, useEffect } from 'react';\nimport Box from './Box';\nimport Connection from './Connection';\n\nfunction Board(props) {\n  const [boardState, setBoardState] = useState([]);\n  const [lineState, setLineState] = useState([]);\n  const [currLineState, setCurrLineState] = useState(0);\n\n  function handleBoxClick(box) {\n    const slicedBoardState = boardState.slice();\n    slicedBoardState.push({\n      startPoint: box.cx,\n      endPoint: box.cy\n    });\n    setBoardState(slicedBoardState);\n    setCurrLineState(currLineState + 1);\n  }\n\n  function resetState() {\n    console.log(\"here\");\n\n    if (currLineState === 2) {\n      const slicedLineState = lineState.slice();\n      const newLine = {\n        x1: boardState[boardState.length - 2].startPoint,\n        y1: boardState[boardState.length - 2].endPoint,\n        x2: boardState[boardState.length - 1].startPoint,\n        y2: boardState[boardState.length - 1].endPoint\n      };\n\n      for (const oldLine of connections) {\n        if (checkIfValidLine(newLine, oldLine)) {\n          slicedLineState.push(newLine);\n          break;\n        }\n      }\n\n      setLineState(slicedLineState);\n      setCurrLineState(0);\n      setBoardState([]);\n    }\n  }\n\n  useEffect(resetState);\n  const arr = [];\n\n  for (let row = 0; row < 24; row++) {\n    for (let col = 0; col < 24; col++) {\n      const index = row * 24 + col;\n      arr[index] = {\n        id: index,\n        cx: 17.5 + col * 35,\n        cy: 17.5 + row * 35\n      };\n    }\n  }\n\n  const boxes = arr.map(box => {\n    return /*#__PURE__*/React.createElement(Box, {\n      key: box.id,\n      cx: box.cx,\n      cy: box.cy,\n      onClick: () => handleBoxClick(box),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    });\n  });\n  const connections = lineState.map((line, index) => {\n    return /*#__PURE__*/React.createElement(Connection, {\n      key: index,\n      x1: line.x1,\n      y1: line.y1,\n      x2: line.x2,\n      y2: line.y2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: \"800\",\n    width: \"800\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, connections, boxes);\n}\n\nexport default Board;","map":{"version":3,"sources":["/home/maxmoreno/Projects/twixt-remake/src/Board.js"],"names":["React","useState","useEffect","Box","Connection","Board","props","boardState","setBoardState","lineState","setLineState","currLineState","setCurrLineState","handleBoxClick","box","slicedBoardState","slice","push","startPoint","cx","endPoint","cy","resetState","console","log","slicedLineState","newLine","x1","length","y1","x2","y2","oldLine","connections","checkIfValidLine","arr","row","col","index","id","boxes","map","line"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Box from './Box';\nimport Connection from './Connection';\n\nfunction Board(props) {\n    const [boardState, setBoardState] = useState([]);\n    const [lineState, setLineState] = useState([]);\n    const [currLineState, setCurrLineState] = useState(0);\n    \n    function handleBoxClick(box) {\n        const slicedBoardState = boardState.slice();\n        slicedBoardState.push({startPoint: box.cx, endPoint: box.cy});\n        setBoardState(slicedBoardState);\n        setCurrLineState(currLineState + 1);\n    }\n\n    function resetState() {\n        console.log(\"here\");\n        if(currLineState === 2){\n            const slicedLineState = lineState.slice();\n            const newLine = {x1: boardState[boardState.length - 2].startPoint, y1: boardState[boardState.length - 2].endPoint,\n                x2: boardState[boardState.length - 1].startPoint, y2:boardState[boardState.length - 1].endPoint};\n            for(const oldLine of connections) {\n                if(checkIfValidLine(newLine, oldLine)) {\n                    slicedLineState.push(newLine);\n                    break;\n                }\n            }\n\n            setLineState(slicedLineState);\n            setCurrLineState(0);\n            setBoardState([]);\n        }\n    }\n\n    useEffect(resetState);\n\n    const arr = [];\n    for(let row = 0; row < 24; row++) {\n        for(let col = 0; col < 24; col++) {\n            const index = row * 24 + col;\n            arr[index] = {id: index, cx: 17.5 + col * 35, cy: 17.5 + row * 35};\n        }\n    }\n\n    const boxes = arr.map((box) => {\n        return(\n            <Box key = {box.id} cx = {box.cx} cy = {box.cy} onClick = {() => handleBoxClick(box)}/>\n        )\n    })\n\n    const connections = lineState.map((line, index) => {\n        return(\n            <Connection key = {index} x1 = {line.x1} y1 = {line.y1} x2 = {line.x2} y2 = {line.y2}/>\n        )\n    })\n\n    return (\n        <svg height = \"800\" width = \"800\">\n            { connections }\n            { boxes }\n        </svg>\n    )\n}\n\nexport default Board;"]},"metadata":{},"sourceType":"module"}